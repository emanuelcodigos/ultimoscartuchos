var _0x74d3=["onload","uid","currentUser","auth","href","../html/registro","onAuthStateChanged","firestore","#loading2","querySelector","#img-user","#txtNick","#txtEmail","log","catch","display","style","none","data","src","photoURL","value","nombre","email","innerHTML","#txtPuntaje","puntaje","then","get","doc","usuarios","collection","","split","length","'","<",">","{","}","=","*","|","update","#btn-setImagen","click","addEventListener","#id-cambiar-nombre","#imagen-importada","files","type","image/jpeg","image/png","flex","imgProfile/img-profile-","ref","storage","put","state_changed","getDownloadURL","snapshot","on","Archivo no permitido","Selecciona una imagen"];window[_0x74d3[0]]=function(){firebase[_0x74d3[3]]()[_0x74d3[6]](d=>{null!=d?mostrarMisDatos(user=firebase[_0x74d3[3]]()[_0x74d3[2]][_0x74d3[1]]):location[_0x74d3[4]]=_0x74d3[5]}),consultarAutenticacion()};const db=firebase[_0x74d3[7]]();let user;const divLoading=document[_0x74d3[9]](_0x74d3[8]);let imgUser=document[_0x74d3[9]](_0x74d3[10]),txtNickUser=document[_0x74d3[9]](_0x74d3[11]),txtEmailUser=document[_0x74d3[9]](_0x74d3[12]);function mostrarMisDatos(d){db[_0x74d3[31]](_0x74d3[30])[_0x74d3[29]](d)[_0x74d3[28]]()[_0x74d3[27]](d=>{divLoading[_0x74d3[16]][_0x74d3[15]]=_0x74d3[17];let x=d[_0x74d3[18]]();imgUser[_0x74d3[19]]=x[_0x74d3[20]],txtNickUser[_0x74d3[21]]=x[_0x74d3[22]],txtEmailUser[_0x74d3[21]]=x[_0x74d3[23]];document[_0x74d3[9]](_0x74d3[25])[_0x74d3[24]]=x[_0x74d3[26]]})[_0x74d3[14]](d=>{console[_0x74d3[13]](d)})}function limpiador(d){d=d[_0x74d3[33]](_0x74d3[32]);let x=_0x74d3[32];for(let e=0;e<d[_0x74d3[34]];e++){let _=d[e];_!=_0x74d3[35]&&_!=_0x74d3[36]&&_!=_0x74d3[37]&&_!=_0x74d3[38]&&_!=_0x74d3[39]&&_!=_0x74d3[40]&&_!=_0x74d3[41]||(_=_0x74d3[42]),x+=_}return x}function modificarNombre(){let d=txtNickUser[_0x74d3[21]];(d=limpiador(d))[_0x74d3[34]]<=20&&db[_0x74d3[31]](_0x74d3[30])[_0x74d3[29]](user)[_0x74d3[43]]({nombre:d})[_0x74d3[14]](d=>{console[_0x74d3[13]](d)})}const btnSetImagen=document[_0x74d3[9]](_0x74d3[44]);btnSetImagen[_0x74d3[46]](_0x74d3[45],()=>{modificarImagen()});const btnSetNick=document[_0x74d3[9]](_0x74d3[47]);btnSetNick[_0x74d3[46]](_0x74d3[45],function(){modificarNombre()});const modificarImagen=()=>{const d=document[_0x74d3[9]](_0x74d3[48]);if(null!=d[_0x74d3[49]][0])if(d[_0x74d3[49]][0][_0x74d3[50]]==_0x74d3[51]||d[_0x74d3[49]][0][_0x74d3[50]]==_0x74d3[52]){divLoading[_0x74d3[16]][_0x74d3[15]]=_0x74d3[53];let x=firebase[_0x74d3[56]]()[_0x74d3[55]](_0x74d3[54]+user)[_0x74d3[57]](d[_0x74d3[49]][0]);x[_0x74d3[61]](_0x74d3[58],()=>{},d=>{alert(d)},()=>{x[_0x74d3[60]][_0x74d3[55]][_0x74d3[59]]()[_0x74d3[27]](d=>{db[_0x74d3[31]](_0x74d3[30])[_0x74d3[29]](user)[_0x74d3[43]]({photoURL:d})[_0x74d3[27]](x=>{imgUser[_0x74d3[19]]=d,divLoading[_0x74d3[16]][_0x74d3[15]]=_0x74d3[17]})[_0x74d3[14]](d=>{divLoading[_0x74d3[16]][_0x74d3[15]]=_0x74d3[17]})})})}else alert(_0x74d3[62]);else alert(_0x74d3[63])};